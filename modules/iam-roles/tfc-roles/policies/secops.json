{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": ["s3:ListBucket"],
      "Resource": "arn:aws:s3:::${var.tfc_state_bucket_name}"
    },
    {
      "Effect": "Allow",
      "Action": ["s3:GetObject", "s3:PutObject", "s3:DeleteObject"],
      "Resource": "arn:aws:s3:::${var.tfc_state_bucket_name}/remote/*"
    },
    {
      "Effect": "Allow",
      "Action": [
        "iam:CreateRole",
        "iam:GetRole",
        "iam:ListRoles",
        "iam:UpdateRole",
        "iam:DeleteRole",
        "iam:ListRolePolicies",
        "iam:AttachRolePolicy",
        "iam:DetachRolePolicy",
        "iam:ListAttachedRolePolicies",
        "iam:listInstanceProfilesForRole"
      ],
      "Resource": "arn:aws:iam::*:role/tfc-*"
    },
    {
      "Effect": "Allow",
      "Action": ["secretsmanager:GetSecretValue"],
      "Resource": "*"
    },
    {
      "Effect": "Allow",
      "Action": [
        "ram:CreateResourceShare",
        "ram:TagResource",
        "ram:GetResourceShares",
        "ram:UpdateResourceShare",
        "ram:DeleteResourceShare",
        "ram:GetResourceShareAssociations",
        "ram:AssociateResourceShare",
        "ram:DisassociateResourceShare",
        "ram:AcceptResourceShareInvitation",
        "ram:RejectResourceShareInvitation",
        "ram:ListPrincipals",
        "ram:ListResources",
        "ram:ListResourceTypes",
        "ram:ListResourceSharePermissions",
        "ram:ListPendingInvitationResources"
      ],
      "Resource": "*"
    }
  ]
}
